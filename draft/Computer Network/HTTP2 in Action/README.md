# HTTP2 in Action

## HTTP/1.1的基本性能问题

书上举了一个例子,一个简单的HTML页面带着一些文本和两张图片,假设客服端和服务端的往返时延在100ms：
```
client -> server => 50ms
server -> client => 50ms
```
处理单个请求需要10ms。

那么这个加载到渲染完整个HTML的时间大致如图：

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4bdc3b88171846d482d677f0b53c5366~tplv-k3u1fbpfcp-watermark.image?)

处理HTML和图片仅花费60ms，然而网页数据传输却花费了300ms，占整个处理时间的80%。

从120ms的标志位开始，client发送了图片1的请求，却只能被阻塞，等到230ms这个位置收到了图片1的响应才能再次发送图片2的请求，再次等待一个往返时间。这个过程是非常低效的，也是HTTP/1.1的主要性能问题。

> By the way，提高带宽并不能解决延迟问题，这里的时延是由物理媒介（光信号传播）造成的，取决于两地之间的距离。就像是两个高速收费站，在已经畅通无阻的情况下，不管收费站多增多少个收费口，都无法改变两地之间汽车的行驶速度，性能瓶颈已经不在带宽上了。